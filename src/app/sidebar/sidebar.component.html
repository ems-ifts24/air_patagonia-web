<div class="sidebar" [class.open]="isOpen">
  <!-- Logo -->
  <div class="logo-container">
    <img src="/public/img/logo.jpg" alt="Logo" class="logo">
  </div>

  <!-- Navigation Menu -->
  <nav class="nav-menu">
    <!-- Loading state -->
    <div *ngIf="loading" class="loading-state">
      <div class="skeleton-item" *ngFor="let item of [1,2,3,4,5]">
        <div class="skeleton-icon"></div>
        <div class="skeleton-text"></div>
      </div>
    </div>
    
    <!-- Error state -->
    <div *ngIf="error && !loading" class="error-state">
      <i class="material-icons">error_outline</i>
      <p>{{ error }}</p>
      <button (click)="loadNavItems()" class="retry-btn">
        <i class="material-icons">refresh</i>
        Reintentar
      </button>
    </div>
    
    <!-- Loaded state -->
    <ng-container *ngIf="!loading && !error">
      <a *ngFor="let item of navItems" 
         [routerLink]="item.route"
         routerLinkActive="active"
         [routerLinkActiveOptions]="{exact: true}"
         class="nav-item"
         (click)="setActiveItem(item.id)"
         [class.active]="activeItem === item.id">
        <i class="material-icons">{{ item.icon }}</i>
        <span>{{ item.label }}</span>
      </a>
    </ng-container>
  </nav>

  <!-- User Profile -->
  <div class="user-profile">
    <div class="user-avatar">
      <i class="material-icons">person</i>
    </div>
    <div class="user-info">
      <span class="user-name">Usuario</span>
      <span class="user-role">Administrador</span>
    </div>
    <button class="logout-btn" title="Cerrar sesiÃ³n">
      <i class="material-icons">exit_to_app</i>
    </button>
  </div>
</div>

<!-- Overlay for mobile -->
<div class="sidebar-overlay" *ngIf="isMobile && isOpen" (click)="toggleSidebar()"></div>
